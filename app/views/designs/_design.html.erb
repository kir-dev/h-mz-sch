<div id="<%= dom_id design %>">

  <div class="relative rounded shadow-lg bg-white m-2 max-w-[200px] justify-self-center">
    <%= image_tag design.image, alt: design.name, class: 'rounded-t-lg max-w-[200px]' %>
    <% if policy(design).edit? %>
      <div class="absolute -top-1 -right-1 flex justify-start">
        <%= link_to design_edit_labels_url(design), class: 'shadow-lg' do %>
          <i class="fa-solid fa-tags icon-edit mr-2 shadow-lg"></i>
        <% end %>

        <%= link_to edit_design_path(design), class: 'shadow-lg' do %>
          <i class="fa-solid fa-pen-to-square icon-edit mr-2 shadow-lg"></i>
        <% end %>

        <%= button_to design_path(design), class: 'shadow-lg', method: :delete, form: { data: { 'turbo_confirm': 'Biztos vagy benne? A törlés véglges!' } } do %>
          <i class="fa-solid fa-trash icon-delete shadow-lg"></i>
        <% end %>
      </div>
    <% end %>
    <div class="px-2 py-2 ">
      <div class="flex flex-row flex-wrap m-0 p-0" style="flex-wrap: wrap;">
        <% design.labels.each do |label| %>
          <div class="bg-gray-700 rounded-md text-white text-sm p-1 m-1">
            <%= label.name.upcase %>
          </div>
        <% end %>
      </div>
      
      <span class=" font-bold text-xl mb-2 text-primary"> <%= link_to design.name, design_path(design)%> </span>

      <%= design.created.strftime("%Y.%m.%d.") %>

      <div class="text-gray-800 italic break-words">
        <%= design.description.truncate_words(9) %>
        <% if design.description.length > 9 %>
          <%= link_to 'tovább', design_path(design), class: 'text-red underline' %>
        <% end %>
      </div>
    </div>
  </div>
</div>
